<html lang=de>
<head>
    <title>Gruppenarbeit - Vertragspartner</title>
    <link rel="stylesheet" href="../styles/style.css">
    <script>

        function getAll() {
            const url = "localhost:8080/api/v1/getAll";

            fetch(url)
                .then((response) => response.json())
                .then((data) => {
                    console.log("All items:", data);
                })
                .catch((error) => {
                    console.error("Error fetching data:", error);
                });
        }

        function getById() {
            var id = document.getElementById("idInputField").value;
            const url = "http://localhost:8080/api/v1/get/" + id;
            fetch(url, { mode: 'no-cors' })
                .then((response) => response.text())
                .then((data) => {
                    console.log("Item:", data);
                })
                .catch((error) => {
                    console.error("Error fetching data:", error);
                });
        }


        function create() {
            const url = "localhost:8080/api/v1/create";
            const data = {
                id: "New Item",
                name: "This is a new item.",
            };

            fetch(url, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
            })
                .then((response) => response.json())
                .then((data) => {
                    console.log("Created item:", data);
                })
                .catch((error) => {
                    console.error("Error creating data:", error);
                });

        }
        deleteById()();

        function deleteById(id) {
            const url = "localhost:8080/api/v1/delete/" + id;
            fetch(url)
                .then((response) => response.json())
                .then((data) => {
                    console.log("Item:", data, "deleted.");})
                .catch((error) => {
                    console.error("Error fetching data:", error);
                });


        }
    </script>
</head>
<body>
<div id="content">
    <div id="heading">
        <h1>Gruppenarbeit - Vertragspartner</h1>
        <div class="dropdown">
            <button class="dropbtn">Links</button>
            <div class="dropdown-content">
                <a href="index.html">Startseite</a>
                <a href="ware.html">Ware</a>
                <a href="vertragspartner.html">Vertragspartner</a>
            </div>
        </div>
    </div>
    <div id="main">
        <table>
            <tr>
                <td>
                    <p>Get with Id:</p>
                    <input id="idInputField" type="text" value=""> <p />
                    <input  type="button" value="get" onclick="getById()">
                    <input type="button" value="get all">
                </td>
                <td>
                    <p>Create:</p>
                    <p>Id:</p>

                    <input type="text" value=""> <p />
                    <p>name:</p>
                    <input type="text" value=""> <p />
                    <p>vorname</p>
                    <input type="text" value=""> <p />
                    <input type="button" value="Create">
                </td>
                <td>

                </td>
            </tr>
        </table>
        <table style="border: solid; width: 100%; height: 50%;">
            <tr>
                <td>
                    Result:
                </td>
            </tr>
            <tr>
                <td>
                    result... (edit with JS)
                </td>
            </tr>
        </table>


    </div>
</div>
</body>
</html>